<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Background Tool | Ligrila</title>
    <link rel="stylesheet" href="/css/style.css" />
    <style>
      .editor-container {
        display: flex;
        gap: 30px;
        padding: 20px;
        align-items: flex-start;
      }
      .sidebar {
        width: 320px;
        border: 2px solid #000;
        padding: 20px;
        background: #fff;
      }
      .preview-area {
        flex-grow: 1;
        position: relative;
        border: 2px solid #000;
        min-height: 500px;
        background: #eee;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* The final result canvas */
      #final-canvas {
        max-width: 100%;
        height: auto;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .control-group {
        margin-bottom: 25px;
        border-bottom: 1px dashed #ccc;
        padding-bottom: 15px;
      }
      h3 {
        margin-top: 0;
        font-size: 1rem;
        text-transform: uppercase;
      }

      /* Color wheel style */
      #bg-color-picker {
        width: 100%;
        height: 50px;
        cursor: pointer;
        border: none;
        background: none;
      }
    </style>
  </head>
  <body>
    <div class="main-wrapper">
      <div style="margin-bottom: 20px">
        <a
          href="/"
          style="color: black; text-decoration: none; font-weight: bold"
          >← BACK TO TOOLS</a
        >
      </div>
    <div class="main-wrapper">
      <header style="margin-bottom: 20px">
        <a href="/" style="font-weight: bold; color: #000"
          >← BACK TO DASHBOARD</a
        >
      </header>

      <div class="editor-container">
        <div class="sidebar">
          <div class="control-group">
            <h3>1. Remove Background</h3>
            <background-remover
              data-theme="light"
              data-device="webgpu"
              data-label="Drop Image to Start"
            >
            </background-remover>
          </div>

          <div id="custom-bg-tools" style="display: none">
            <div class="control-group">
              <h3>2. Choose Background Color</h3>
              <input type="color" id="bg-color-picker" value="#ffffff" />
              <p style="font-size: 0.8rem; color: #666">
                Use the wheel to select a solid color.
              </p>
            </div>

            <div class="control-group">
              <h3>3. Or Upload Background Image</h3>
              <input
                type="file"
                id="bg-image-input"
                accept="image/*"
                style="width: 100%"
              />
            </div>

            <button
              id="download-btn"
              class="btn"
              style="width: 100%; background: #000; color: #fff; padding: 12px"
            >
              DOWNLOAD FINAL IMAGE
            </button>
          </div>
        </div>

        <div class="preview-area">
          <canvas id="final-canvas"></canvas>
          <div id="placeholder-text">The result will appear here...</div>
        </div>
      </div>
    </div>

    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@ligrila/background-remover@0.3.8/dist/background-remover.es.js"
    ></script>
    <script type="module" src="/js/remove-bg.js"></script>
  </body>
</html>
